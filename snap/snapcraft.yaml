name: systemg
title: System G
base: core20
version: "3.0.1"
#source-code: https://github.com/jafl/system-g
#issues: https://github.com/jafl/system-g/issues
#contact: https://johnlindal.wixsite.com/aboutme/contact-me
summary: System G provides a graphical interface to UNIX file system.
description: |
  System G provides a graphical interface to UNIX file system.

grade: devel
confinement: classic

apps:
  systemg:
    command: systemg

parts:
  systemg:
    plugin: autotools
    source-type: git
    source: https://github.com/jafl/system-g
    disable-parallel: true
    build-environment:
      - JX_ROOT: /snap/jx-application-framework/current
      - PATH: $PATH:$JX_ROOT/bin
      - LD_LIBRARY_PATH: $SNAPCRAFT_PART_INSTALL/lib:$SNAPCRAFT_PART_INSTALL/lib/$SNAPCRAFT_ARCH_TRIPLET:$SNAPCRAFT_PART_INSTALL/usr/lib:$SNAPCRAFT_PART_INSTALL/usr/lib/$SNAPCRAFT_ARCH_TRIPLET
    override-build: |
      env
      ./configure release
      make
    organize:
      systemg: bin/systemg
      release/pkg/desktop: snap/gui
    stage:
      - bin
      - snap/gui
    build-packages:
      - g++
      - make
    build-snaps:
      - jx-application-framework
    stage-packages:
      - libx11-6
      - libxext6
      - libxau6
      - libxinerama1
      - libxft2
      - libfreetype6
      - libgd3
      - libpng16-16
      - libjpeg8
      - libxpm4
      - libxml2
      - libace-6.4.5
      - libicu66
      - libpcre3
      - libstdc++6
